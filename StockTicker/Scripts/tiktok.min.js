/*!
 * tiktok .js- A  Responsive jQ Tip Plugin v0.0.1
 * Copyright (c) 2016 Dayoo.com
 * Author: Limlift
 * http://limlift.github.io
 * Email: ironstrawman@gmail.com
 * Using tiktok.js can free you from endless coding of simple HTML element such as popbox/alerttip etc.
 --------------------------------------------------------------------
 * tiktok .js- JQ响应式提示框插件 0.0.1版本
 * Copyright (c) 2016 Dayoo.com
 * 作者: Limlift
 * 个人网址：http://limlift.github.io
 * 电子邮件: ironstrawman@gmail.com
 * tiktok.js是针对简易的HTML弹框/浮动提示重复编码的插件，让你再也不需要对不同项目重写一遍提示框。
 * ------------------------------------------------------------------
 */
(function(n,t,i,r){function e(t,i){this.element=n(t);this.settings=n.extend({},s,i);this._defaults=s;this._name=u;this.mode="hide";this.init()}function l(){var n=t.navigator.msMaxTouchPoints,r="ontouchstart"in i.createElement("div");return n||r?!0:!1}function f(t){n(t).css("margin-left",-n(t).width()/2)}function o(t){n(t).css("margin-top",-n(t).height()/2)}function h(){var t=n("html").outerWidth()-n("html").innerWidth();n(i.body).css("border-right",t+"px solid transparent");n("html").css("overflow","hidden")}function a(){n(i.body).css("border-right","0");n("html").css("overflow","auto")}function c(i){var u=i.tooltip(),f=i.element,a=i,y=n(t),e=f.position().top,o=f.position().left,c=f.width(),v=f.height(),s=parseInt(f.css("marginTop")),h=parseInt(f.css("marginLeft")),l=u.width(),r=u.height();switch(a.settings.position){case"top":u.css({left:c/2+o,top:e-18,"margin-left":h-l/2,"margin-top":s-r});break;case"bottom":u.css({left:c/2+o,top:e+r+v+18,"margin-left":h-l/2,"margin-top":s-r});break;case"left":u.css({left:o-l-18+h,top:e+r,"margin-left":0,"margin-top":s-r});break;case"right":u.css({left:o+c+18+h,top:e+r,"margin-left":0,"margin-top":s-r})}}var u="tiktok",s={animateSpeed:400,delay:200,themeColor:"#0082e5",titleColor:"#0082e5",status:"default",position:"top",type:null,content:{title:"tip_title",content:"tip_content",picurl:null},buttonCancel:"Cancel",buttonConfirm:"Confirm",headerAlign:"center",contentAlign:"left",ajaxContentUrl:null,onConfirm:null,onCancel:null,onBeforeShow:null,onShow:null,onHide:null};n.extend(e.prototype,{init:function(){var t=this,r=this.element;switch(t.settings.type){case"floattip":if(l()){r.on("click."+u,function(n){t.mode=="hide"?t.show():t.hide();n.stopPropagation()});n(i).on("click",function(){t.mode=="show"&&t.hide()})}else{r.on("mouseover."+u,function(){t.show()});r.on("mouseout."+u,function(){t.hide()})}}},tooltip:function(){var t=this;if(!this.tiktok_bubble)switch(t.settings.type){case"floattip":this.tiktok_bubble=n('<div id="tiktok-float" class="tiktok"><p class="tt-'+t.settings.position+'"><\/p><\/div>');break;case"poptip":this.tiktok_bubble=n('<div id="tiktok-tip" class="tiktok tt-status-'+t.settings.status+" tiktok-float-"+t.settings.position+'"><p><\/p><a href="javascript:void(0);" class="tt-close"><\/a><\/div>');break;case"poptext":this.tiktok_bubble=n('<div id="tiktok-pop" class="tiktok"><div class="tt-bg"><\/div><div class="tt-box tt-text"><div class="tt-box-header"><\/div><p><\/p><div class="tt-button"><a href="javascript:void(0);" id="tt-btn-cancel" class="tt-status-'+t.settings.status+' tt-button-single">'+t.settings.buttonConfirm+"<\/a><\/div><\/div><\/div>");break;case"popload":t.settings.content.picurl?this.tiktok_bubble=n('<div id="tiktok-pop-loading" class="tiktok"><div class="tt-bg"><\/div><div class="tt-box"><img src="" alt=""><p><\/p><\/div><\/div>'):t.settings.content.picurl||(this.tiktok_bubble=n('<div id="tiktok-pop-loading" class="tiktok"><div class="tt-bg"><\/div><div class="tt-box"><div class="tt-img"><\/div><p><\/p><\/div><\/div>'));break;case"popbox":this.tiktok_bubble=n('<div id="tiktok-pop" class="tiktok"><div class="tt-bg"><\/div><div class="tt-box"><div class="tt-box-header"><\/div><p><\/p><div class="tt-button"><a href="javascript:void(0);" id="tt-btn-cancel" data-bool="false">'+t.settings.buttonCancel+'<\/a><a href="javascript:void(0);" id="tt-btn-confirm" class="tt-status-default" data-bool="true">'+t.settings.buttonConfirm+"<\/a><\/div><\/div><\/div>")}return this.tiktok_bubble},show:function(){var e=this.tooltip(),r=this,s=this.element,l=n(t);if(n.isFunction(r.settings.onBeforeShow))r.settings.onBeforeShow(n(this));switch(r.settings.type){case"floattip":e.css({backgroundColor:r.settings.themeColor}).hide();e.find("p").html(r.content().content);r.timeout=t.setTimeout(function(){s.after(e);c(r);l.resize(function(){c(r)});e.stop(!0,!0).fadeIn(r.settings.animateSpeed,function(){if(r.mode="show",n.isFunction(r.settings.onShow))r.settings.onShow(n(this))})},r.settings.delay);break;case"poptip":e.find("p").html(r.content().content);r.timeout=t.setTimeout(function(){s.after(e);f("."+u);l.resize(function(){f("."+u)});e.stop(!0,!0).fadeIn(r.settings.animateSpeed,function(){if(r.mode="show",n.isFunction(r.settings.onShow))r.settings.onShow(n(this))});e.find(".tt-close").on("click",function(){r.hide()})},r.settings.delay);break;case"poptext":case"popbox":e.find(".tt-box-header").css({backgroundColor:r.settings.themeColor,textAlign:r.settings.headerAlign});e.find("p").css({textAlign:r.settings.contentAlign});e.hide();r.content().title==""?e.find(".tt-box-header").remove():e.find(".tt-box-header").html(r.content().title);e.find("p").html(r.content().content);h();r.timeout=t.setTimeout(function(){s.after(e);e.find("p").height()!=0&&e.find("p").height(Math.min(e.find("p").height(),i.body.clientHeight-200));e.stop(!0,!0).fadeIn(r.settings.animateSpeed,function(){if(r.mode="show",n.isFunction(r.settings.onShow))r.settings.onShow(n(this))});o("."+u+" .tt-box");f("."+u+" .tt-box");l.resize(function(){f("."+u+" .tt-box");o("."+u+" .tt-box")});e.find("#tt-btn-cancel").on("click",function(){if(s.attr("data-bool",n(this).attr("data-bool")),n.isFunction(r.settings.onCancel))r.settings.onCancel(n(this));r.hide()});e.find("#tt-btn-confirm").on("click",function(){if(s.attr("data-bool",n(this).attr("data-bool")),n.isFunction(r.settings.onConfirm))r.settings.onConfirm(n(this));r.hide()})},r.settings.delay);break;case"popload":e.find(".tt-box").css({backgroundColor:r.settings.themeColor});e.hide();e.find("p").html(r.content().content);e.find("img").attr("src",r.content().picurl);h();r.timeout=t.setTimeout(function(){s.after(e);f("."+u+" .tt-box");o("."+u+" .tt-box");l.resize(function(){f("."+u+" .tt-box");o("."+u+" .tt-box")});e.stop(!0,!0).fadeIn(r.settings.animateSpeed,function(){if(r.mode="show",n.isFunction(r.settings.onShow))r.settings.onShow(n(this))})},r.settings.delay)}},hide:function(){var i=this,r=this.tooltip();t.clearTimeout(i.timeout);i.timegout=null;r.stop(!0,!0).fadeOut(i.settings.animateSpeed,function(){if(n(this).remove(),n.isFunction(i.settings.onHide)&&i.mode=="show")i.settings.onHide(n(this));i.mode="hide"});a()},destroy:function(){var n=this.element;n.off("."+u);n.removeData(u)},content:function(){var i,r=this.element,t=this,u=this._title;return t.settings.ajaxContentUrl?i=n.ajax({type:"GET",url:t.settings.ajaxContentUrl,async:!1}).responseText:t.settings.content&&(i=t.settings.content),i},update:function(n,t){var i=this;if(t)i.settings[n]=t;else return i.settings[n]}});n[u]=n.fn[u]=function(t){var f=arguments,i;return t===r||typeof t=="object"?(this instanceof n||n.extend(s,t),this.each(function(){n.data(this,"plugin_"+u)||n.data(this,"plugin_"+u,new e(this,t))})):typeof t=="string"&&t[0]!=="_"&&t!=="init"?(this.each(function(){var r=n.data(this,"plugin_"+u);r||(r=n.data(this,"plugin_"+u,new e(this,t)));r instanceof e&&typeof r[t]=="function"&&(i=r[t].apply(r,Array.prototype.slice.call(f,1)));t==="destroy"&&n.data(this,"plugin_"+u,null)}),i!==r?i:this):void 0}})(jQuery,window,document);
//# sourceMappingURL=tiktok.min.js.map
